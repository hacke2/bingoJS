window.console&&window.console.log||(window.console={log:function(){},error:function(){},info:function(){},table:function(){}});(function(){var b=false,a=null;"use strict";var h="",j=Object.prototype.toString,l=function(){},i,e=a,f=function(){if(e==a)e=$('<div style="display:none"></div>').appendTo(document.body);return e},g=0,d=0,c=window.bingo=window.bingo={isDebug:b,prdtVersion:"",stringEmpty:h,noop:l,newLine:"\r\n",isType:function(a,b){return j.apply(b)==="[object "+a+"]"},isUndefined:function(a){return typeof a==="undefined"||a===i},isNull:function(b){return b===a||this.isUndefined(b)},isBoolean:function(a){return this.isType("Boolean",a)},isNullEmpty:function(a){return this.isNull(a)||a===h},isFunction:function(a){return this.isType("Function",a)},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},isString:function(a){return this.isType("String",a)},isObject:function(a){return!this.isNull(a)&&this.isType("Object",a)},isArray:function(a){return Array.isArray?Array.isArray(a):this.isType("Array",a)},isWindow:function(a){return!this.isNull(a)&&a==a.window},isElement:function(a){var c=a&&(a.ownerDocument||a).documentElement;return c?true:b},trim:function(a){return this.isString(a)?a.replace(/(^\s*)|(\s*$)/g,""):""},isStringEquals:function(a,c){return a==c?true:!this.isString(a)||!this.isString(c)?b:a.toUpperCase()==c.toUpperCase()},inArray:function(c,d){if(d)for(var e=this.isFunction(c)?c:a,b=0,f=d.length;b<f;b++)if(e){c=d[b];if(e.call(c,c,b))return b}else if(d[b]===c)return b;return-1},removeArrayItem:function(d,b){for(var c=[],a=0,e=b.length;a<e;a++)b[a]!=d&&c.push(b[a]);return c},sliceArray:function(c,a,b){isNaN(a)&&(a=0);isNaN(b)&&(b=c.length);return Array.prototype.slice.call(c,a,a+b)},makeAutoId:function(){var a=(new Date).valueOf();d=a===g?d+1:0;g=a;return[a,d].join("_")},each:function(d,f){if(this.isNull(d))return;for(var e=a,c=0,g=d.length;c<g;c++){e=d[c];if(f.call(e,e,c)===b)break}},htmlEncode:function(a){if(this.isNullEmpty(a))return"";var b=f();b.text(a);a=b.html();return a},htmlDecode:function(a){if(this.isNullEmpty(a))return"";var b=f();b.html(a);var c=b.text();return c},urlEncode:function(a){return this.isNullEmpty(a)?"":encodeURI(a)},urlDecode:function(a){return this.isNullEmpty(a)?"":decodeURI(a)},clearObject:function(b){for(var c=0,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)b[e]=a}},extend:function(b){var d=arguments.length;if(d<=0)return b;if(d==1){for(var e in b)b.hasOwnProperty(e)&&(this[e]=b[e]);return this}for(var c=a,f=1;f<d;f++){c=arguments[f];if(!this.isNull(c))for(var g in c)c.hasOwnProperty(g)&&(b[g]=c[g])}return b},clone:function(b,a){return k.clone(b,a)}},k={isCloneObject:function(a){return c.isObject(a)&&!c.isWindow(a)&&!c.isElement(a)},clone:function(a,b){return!a?a:c.isArray(a)?this.cloneArray(a,b):this.isCloneObject(a)?this.cloneObject(a,b):a},cloneObject:function(d,f){var g={},c=a;for(var e in d)if(d.hasOwnProperty(e)){c=d[e];if(f!==b)c=this.clone(c,f);g[e]=c}c=a;return g},cloneArray:function(f,e){for(var g=[],c=a,h=f.length,d=0;d<h;d++){c=f[d];if(e!==b)c=this.clone(c,e);g.push(c)}return g}}})();(function(b){var a=null;"use strict";var c=/[\[\.]?[\'\"]?([^\[\]\.\'\"]+)[\'\"]?[\]\.]?/g,d=function(b){c.lastIndex=0;var a=[];b.replace(c,function(c,b){if(g(c)&&a.length>0)a[a.length-1].isArray=true;a.push({attrname:b,isArray:false})});return a},f=function(h,e,k){if(!h||b.isNullEmpty(e))return;if(e.indexOf(".")<0&&e.indexOf("]")<0)h[e]=k;for(var g=d(e),f=h,i=a,l=g.length-1,c=a,j=0;j<l;j++){i=g[j];c=i.attrname;if(b.isNull(f[c]))f[c]=i.isArray?[]:{};f=f[c]}c=g[l].attrname;f[c]=k},g=function(a){return a.indexOf("]")>=0&&(a.indexOf('"')<0&&a.indexOf("'")<0)},e=function(h,e){if(!h||b.isNullEmpty(e))return;if(e.indexOf(".")<0&&e.indexOf("]")<0)return h[e];for(var g=d(e),f=h,j=a,k=g.length-1,c=a,i=0;i<k;i++){j=g[i];c=j.attrname;if(b.isNull(f[c]))return f[c];f=f[c]}c=g[k].attrname;return f[c]};b.extend({datavalue:function(a,b,c){if(arguments.length>=3)f(a,b,c);else return e(a,b)}})})(bingo);(function(a){"use strict";a.Event=function(f,g){var b=null,c=g||[],d=f,e=function(a){d||(d=this);a&&e.on(a);return arguments.length==0?e:d};a.extend(e,{on:function(a){a&&c.push({one:false,callback:a});return this},one:function(a){a&&c.push({one:true,callback:a});return this},off:function(b){if(b){var d=[];a.each(c,function(){this.callback!=b&&d.push(this)});c=d}else c=[];return this},trigger:function(){for(var h=c,j=b,f=b,e=b,g=0,i=h.length;g<i;g++){f=h[g];if(f.one===true){e||(e=c);e=a.removeArrayItem(f,e)}if((j=f.callback.apply(d,arguments))===false)break}e&&(c=e);return this},triggerHandler:function(){var f=c,e=b;if(f.length==0)return;e=f[0];var g=e.callback.apply(d,arguments);if(e.one===true)c=a.removeArrayItem(e,c);return g},clone:function(){return a.Event(f,c)},owner:function(){return d}});return e}})(bingo);(function(a){"use strict";var d="NewObject_define",b=function(b,a){this._define=b;a&&this._Base(a)};b.prototype._Base=function(e){var b=this._define;b.prototype=new e(d);b.prototype.constructor=b;var f=b.prototype._property;if(f){b.prototype._property={};c(b.prototype._property,f)}b.prototype.base=function(){this.base=a.noop;e.prototype._Initialization.apply(this,arguments)}};b.prototype.Property=function(b){var a=this._define;if(!a.prototype._property)a.prototype._property={};c(a.prototype._property,b);return this};b.prototype.Define=function(b){var a=this._define;c(a.prototype,b);return this};b.prototype.Extend=function(b){var a=this._define;c(a.prototype,b);return this};b.prototype.Initialization=function(a){var b=this._define;b.prototype._Initialization=a;return this};b.prototype.Static=function(b){var a=this._define;c(a,b);return this};b.prototype.Variable=function(b){var c=this._define.prototype;for(var a in b)if(b.hasOwnProperty(a))c[a]=g(b[a]);return this};var g=function(a){return function(){if(arguments.length==0)return a;else{a=arguments[0];return this}}},c=function(c,a){for(var b in a)if(a.hasOwnProperty(b))c[b]=a[b]},e=function(i,h){for(var c=i.split("."),b=window,d="",e=c.length-1,g=0;g<e;g++){d=c[g];if(!a.isNullEmpty(d)){if(a.isNull(b[d]))b[d]={};b=b[d]}}b[c[e]]&&f(b[c[e]],h);return b[c[e]]=h},f=function(b,c){for(var a in b)if(b.hasOwnProperty(a)&&!c.hasOwnProperty(a))c[a]=b[a]};a.Class=function(g,h,i){if(arguments.length<=2)if(this.isFunction(g)){if(this.isFunction(h)){i=h;h=g}else{i=g;h=null}g=this.stringEmpty}var f=function(){if(arguments[0]!=d)return f.NewObject.apply(window,arguments)};f.prototype._Initialization=a.noop;f.extend=function(a){c(f.prototype,a)};f.NewObject=function(){var b=new f(d);if(b._property){var e=a.clone(b._property);c(b,e)}b._Initialization.apply(b,arguments);b._Initialization=a.noop;return b};f.prototype.prop=function(d){var a=this;if(arguments.length==0){var d=a._property,e={};for(var b in d)if(d.hasOwnProperty(b))e[b]=a[b];return e}else{c(a,propertys);return a}};f.prototype.on=function(c,e){var b=this;if(c&&e){b.__events__||(b.__events__={});var d=b.__events__;d[c]||(d[c]=a.Event(b));d[c].on(e)}return b};f.prototype.trigger=function(d){var b=this;if(b.__events__){var c=b.__events__,e=arguments.length>1?a.sliceArray(arguments,1):[];c[d]&&c[d]().trigger.apply(b,e)}return b};f.prototype.clone=function(){var a=f.NewObject.apply(window,arguments),b=this.prop();a.prop(b);return a};f.prototype.isDisposed=false;f.prototype.dispose=function(){var b=this;if(!b.isDisposed)try{b.__onDispose_131113&&b.__onDispose_131113().trigger()}finally{a.clearObject(b);b.isDisposed=true;b.dispose=a.noop}};f.prototype.onDispose=function(){var b=this;b.__onDispose_131113||(b.__onDispose_131113=a.Event());return b.__onDispose_131113.apply(b,arguments)};f.prototype.disposeByOther=function(a){if(a.dispose&&!a.isDisposed){var c=this,b=function(){c.dispose()};a.onDispose(b);this.onDispose(function(){a.isDisposed||a.onDispose().off(b)})}return this};var j=new b(f,h);i&&i.call(j);j=null;!a.isNullEmpty(g)&&e(g,f);return f};a.Class.makeDefine=function(a,b){e(a,b)}})(bingo);(function(b){var a="/";"use strict";var c=/^\/|\:\/\//,g=/\:\/\//,h=/file\:\/\/\//i,e={},f=function(d){if(g.test(d))return d;if(d.indexOf(".")>=0){var i=c.test(d),j=d.split(a),f=[],e="",h=0;while(!b.isNull(e=j.pop())){if(b.isNullEmpty(e)||e==".")continue;if(e=="..")h++;else if(h>0)h--;else f.push(e)}if(f.length>0){d=f.reverse().join(a);return(i?a:"")+d}return i?a:""}d=d?d.replace("//",a):d;return d},d=function(c){if(b.isNullEmpty(c)||c.indexOf("%")<0)return c;var a=c.match(/%([^%]*)%/i),g=b.stringEmpty,f=e;if(a)if(f[a[1]])g=d(c.replace(a[0],f[a[1]]));else g=d(c.replace(a[0],b.stringEmpty));a=null;f=null;return g};b.extend({getRelativePath:function(d,e){var i=h.test(d);if(this.isNull(e))e="";else if(c.test(e))return f(e);if(!this.isNullEmpty(d))d=(i?d:d.replace(/^.*?\:\/[\/]+[^\/]+/,"")).replace(/[?#].*$/,"").replace(/[^\/]+$/,"");if(!/\/$/.test(d))d+=a;var g=d+e;g=f(g);if(b.isNullEmpty(e)&&!/\/$/.test(g))g+=a;return g},getRelativeFile:function(a){return this.getRelativePath(location+"",a)},path:function(a){if(this.isObject(a))this.extend(e,a);else if(arguments.length>1)e[arguments[0]]=arguments[1];else{var c=a.split("?");a=c[0];a=d(a);if(c.length>1)a+="?"+b.sliceArray(c,1).join("?");return a}},isRootPath:function(a){return c.test(a)}})})(bingo);(function(a){"use strict";var b=window.document,c=b.head||b.getElementsByTagName("head")[0]||b.documentElement,d=c.getElementsByTagName("base")[0],e=/loaded|complete|undefined/i,h=/SCRIPT/i,g=function(h,k,j,g){var e=b.createElement("script");e.importurl=h;e.imporid=j||a.makeAutoId();e.async="async";e.src=h;if(g){var i=a.isFunction(g)?g(h):g;i&&(e.charset=i)}f(e,k||a.noop);d?c.insertBefore(e,d):c.appendChild(e);return j},f=function(b,c){var d=function(){if(!b)return;if(e.test(b.readyState)){b.onload=b.onerror=b.onreadystatechange=null;!a.isDebug&&b.parentNode&&b.parentNode.removeChild(b);setTimeout(function(){if(!b)return;try{c&&c(b.importurl,b.imporid,b)}finally{b=undefined;c=null}},5)}};b.onload=b.onerror=b.onreadystatechange=function(){d()}};a.extend({fetch:function(c,a,d,b){return g(c,a,d,b);a=null}})})(bingo);(function(a){var b=null;"use strict";var h,n=[],e=[],d=[],c=[[],[]],j=function(b,c){return a.inArray(function(c){return a.isStringEquals(c,b)},c)},y=function(a){return j(a,n)>=0||j(a,e)>=0||j(a,d)>=0},u=function(f,e,b){!a.isNumeric(b)&&(b=a.env.Normal);s(f);c[b]||(c[b]=[]);c[b].push(e);if(d.length>0)x();else setTimeout(function(){g()&&i()},1)},v=a.getRelativePath(window.location+a.stringEmpty),s=function(e){var c=v,b=a.stringEmpty;a.each(e,function(e){if(a.isNull(e))return;b=a.path(e);if(a.isRootPath(b))c=b;else b=a.getRelativePath(c,b);b=t(b);if(!a.isNullEmpty(a.prdtVersion))b=[b.indexOf("?")?"&":"?",prdtVersion,"=",a.prdtVersion];!y(b)&&d.push(b)})},x=function(){if(d.length>0){var b=d;d=[];a.each(b,function(b){e.push(b);a.fetch(b,r)})}},g=function(){return d.length<=0&&e.length<=0},f=h,r=function(b){n.push(b);e=a.removeArrayItem(b,e);f!=h&&clearTimeout(f);f=setTimeout(function(){f=h;g()&&i()},50)},i=function(){var b=true;a.each(c,function(f,d){var e=c[d];c[d]=[];a.each(e,function(b){a.isFunction(b)&&b()});if(c[d].length>0){b=false;return false}});if(!b)g()&&i()},k=[],q=function(b,a){return{path:b,mapPath:a}},w=function(c,b){if(a.isNullEmpty(c)||a.isNullEmpty(b))return;c=a.path(c);b=a.path(b);var d=p(c);if(a.isNull(d))k.push(q(c,b));else d.mapPath=b},p=function(d){var c=a.inArray(function(b){return a.isStringEquals(b.path,d)},k);return c>=0?k[c]:b},t=function(b){var a=p(b);return a&&a.mapPath||b};a.extend({using:function(){if(arguments.length<=0)return;for(var f=[],d=b,g=0,c=b,e=0,h=arguments.length;e<h;e++){c=arguments[e];if(c)if(a.isFunction(c))d=c;else if(a.isNumeric(c))g=c;else f.push(c)}u(f,function(){d&&d()},g)},map:function(e,b){var d=arguments.length;if(d<2)return;b=arguments[0];var c=a.sliceArray(arguments,1);a.each(c,function(c){if(a.isNullEmpty(c))return;w(c,b)})}});var m=function(c,a){for(var b in a)if(a.hasOwnProperty(b))c[b]=a[b]},o="bingo_define_91";a.extend({isDefine:function(a){return a._DEFINE===o},define:function(){var g=this;for(var d=b,f=b,e=b,c=b,h=0,i=arguments.length;h<i;h++){c=arguments[h];if(c)if(g.isDefine(c))d=c;else if(g.isFunction(c))f=c;else if(g.isString(c))e=c}var a=function(){var b=l.NewObject(e);b.base=function(){d&&d._DEFINE_FN&&d._DEFINE_FN.apply(b,arguments)};f&&f.apply(b,arguments);a._EXTEND&&m(b,a._EXTEND);return b};a._DEFINE=o;a._DEFINE_FN=f;a.extend=function(b){a._EXTEND||(a._EXTEND={});m(a._EXTEND,b||{})};e&&g.Class.makeDefine(e,a);return a},env:function(b,c){if(!this.isFunction(b))return;a.using(function(){var a=l.NewObject("_env_");b&&b.call(a)},this.isNumeric(c)?c:this.envPriority.Normal)}});var l=a.Class(function(){this.Initialization(function(a){this.$defineName=a})});a.envPriority={First:0,NormalBefore:45,Normal:50,NormalAfter:55,Last:100}})(bingo);(function(b){var a=false;"use strict";var c=function(c,g){return(b.isNull(c)||b.isNull(g))&&c!==g?a:b.isArray(c)?f(c,g):c instanceof RegExp?e(c,g):b.isFunction(c)?b.isFunction(g)&&c.valueOf()===g.valueOf():b.isObject(c)?d(c,g):typeof c===typeof g&&c===g},e=function(b,a){return a instanceof RegExp&&b.source===a.source&&b.global===a.global&&b.ignoreCase===a.ignoreCase&&b.multiline===a.multiline},f=function(d,e){if(d===e)return true;if(!b.isArray(e)||d.length!=e.length)return a;for(var f=0,g=d.length;f<g;f++)if(!c(d[f],e[f]))return a;return true},d=function(f,d){if(f===d)return true;if(!b.isObject(d))return a;var e=0;for(var g in f){e++;if(!c(f[g],d[g]))return a}for(var h in d)e--;return e===0};b.extend({equals:function(a,b){return c(a,b)}})})(bingo);(function(b){var c="linkRemove.linkdom",a=null;"use strict";b.extend({linkToDom:function(a,b){return h(a,b)},isUnload:false});b.linkToDom.LinkToDomClass=b.Class(function(){this.Define({linkToDom:function(e){var c=this;c.unlinkToDom();var d=c;c._linkToDomObject=b.linkToDom(e,function(){try{d.dispose&&d.dispose()}finally{e=d._linkToDomObject=a;d=a}});return c},unlinkToDom:function(){var b=this;b._linkToDomObject&&b._linkToDomObject.unlink();b._linkToDomObject=a;return b}});this.Initialization(function(){this.onDispose(function(){this.unlinkToDom()})})});var e=function(){var d=this;d.callback=b.noop;if(d.target){d.target.removeData(d.id);d.target.off(c);d.target=a}},f=function(){d(this)},d=function(a){if(a&&a.target){var b=a.callback;e.call(a);b()}},g=$.cleanData;$.cleanData=function(e){for(var d=0,b;(b=e[d])!=a;d++)try{$(b).triggerHandler(c)}catch(f){}g.apply($,arguments)};var h=function(j,h){if(b.isFunction(h)){var g=$(j);if(!b.isUnload&&g.length>0){var i={id:"linkToDom_130102_"+b.makeAutoId(),target:g,callback:h,unlink:e,disconnect:f};g.data(i.id,"T");g.one(c,function(){d(i)});return i}else h()}return a};$(window).unload(function(){b.isUnload=true})})(bingo);(function(b){var n=" }}catch(e){if (bingo.isDebug) console.error(e.message);return window.undefined;}}).call($node)",m=" return (function(){ try{ with($view){",l="$withData",i="return ",k="__contextFun",j="$view",e=true,c="",d=false,p="__domnode140907__",a=null;"use strict";var v={},w={},u={},x={},y={},q=a,o=function(){};o.$injects=[];var z=/^\s*function[^(]*?\(([^)]+?)\)/i,g=function(a){if(a&&a.$injects)return a;var c=o;if(b.isArray(a)){c=a.pop();c.$injects=a}else if(b.isFunction(a)){c=a;var e=c.toString(),d=[];e.replace(z,function(c,a){a&&b.each(a.split(","),function(a){a=b.trim(a);a&&d.push(a)})});c.$injects=d}return c},f=function(d,l,g,h,k,n,c){c=c||{};var e=a;if(b.isString(d)){if(d in c)return c[d];c[d]={};e=b.factory(d);!b.isFunction(e)&&(e=b.service(d));if(!e)return{}}else e=d;var i=e.$injects,m=[];if(i&&i.length>0){if(!c.$view){c.$view=l||b.rootView();c.$module=c.$view._module;c.$domnode=g;c.node=k?k:g?g.node:l.node;c.$attr=h;c.$injectParam=n;c.$command=h?h.command:a}var j=a;b.each(i,function(a){if(a in c)j=c[a];else j=c[a]=f(a,l,g,h,k,n,c);m.push(j)})}var o=e.apply(c.$module||c.$view,m)||{};b.isString(d)&&(c[d]=o);return o};b.extend({factory:function(b,c){if(this.isNullEmpty(b))return a;if(arguments.length==1)return v[b];else v[b]=g(c)},filter:function(b,c){if(this.isNullEmpty(b))return a;if(arguments.length==1)return x[b];else x[b]=g(c)},command:function(b,c){if(this.isNullEmpty(b))return a;b=b.toLowerCase();if(arguments.length==1)return u[b];else u[b]=g(c)},module:function(d,e){if(this.isNullEmpty(d))return a;var c=a;if(arguments.length==1)c=y[d];if(!c){c=y[d]=function(d){var a=C.NewObject();a.disposeByOther(d);b.extend(a._controllers,c._controllers);d._module=a;f(c._injectFn,d);return a};c._injectFn=g(e);c._controllers={};c.controller=function(a,b){if(arguments.length==1)return this._controllers[a];this._controllers[a]=g(b);return this}}return c},service:function(b,c){if(this.isNullEmpty(b))return a;if(arguments.length==1)return w[b];else w[b]=g(c)},inject:function(g,e,a,b,c,d){return f(g,e,a,b,c,d)},start:function(){var a=document.documentElement;q=r.NewObject(a);s.NewObject().formNode(a).compile()},rootView:function(){return q}});var C=b.Class(function(){this.Property({_controllers:{}});this.Define({controller:function(a,b){if(arguments.length==1)return this._controllers[a];this._controllers[a]=g(b);return this}})}),h={compiledAttrName:["bg_cpl",b.makeAutoId()].join("_"),isCompileNode:function(a){return a[this.compiledAttrName]=="1"},setCompileNode:function(a){a[this.compiledAttrName]="1"},domNodeName:["bg_cpl_domnode",b.makeAutoId()].join("_"),getDomnode:function(b){return b?this.isDomnode(b)?$(b).data(p):this.getDomnode(b.parentNode):a},setDomnode:function(a,b){a[this.domNodeName]="1";$(a).data(p,b)},isDomnode:function(a){return a[this.domNodeName]=="1"},_textTagRegex:/\{\{([^}]+?)\}\}/gi,hasTextTag:function(a){this._textTagRegex.lastIndex=0;return this._textTagRegex.test(a)},_isCompileTextTag:function(c){var a=c.parentNode._isCompileTextTags_;return!a?d:b.inArray(c,a)>=0},_setCompileTextTag:function(a){var b=a.parentNode._isCompileTextTags_||(a.parentNode._isCompileTextTags_=[]);b.push(a)},_removeCompileTextTag:function(a){var c=a.parentNode._isCompileTextTags_;c&&(a.parentNode._isCompileTextTags_=b.removeArrayItem(a,c))},_makeCommand:function(i,j,k){i=f(i,j,a,a,k);var h={priority:50,tmpl:c,tmplUrl:c,replace:d,include:d,view:d,compileChild:e};if(b.isFunction(i)||b.isArray(i))h.link=i;else h=b.extend(h,i);h.compilePre||(h.compilePre=o);h.compile||(h.compile=o);h.controller||(h.controller=o);h.link||(h.link=o);!b.isNullEmpty(h.tmplUrl)&&b.inject("$ajax",j)(h.tmplUrl).dataType("text").cache(e).async(d).success(function(a){h.tmpl=a}).get();h.compilePre=g(h.compilePre);f(h.compilePre,j,a,a,k);return h},traverseNodes:function(c){var d=this,b=c.node;if(b.nodeType===1){if(!d.isCompileNode(b)){d.setCompileNode(b);if(!d.analyzeNode(b,c))return}var e=a,g=c.parentDomnode,j=c.view,i=c.withData;if(b=b.firstChild)do{c.node=b;d.traverseNodes(c);c.parentDomnode=g,c.view=j,c.withData=i;e=b.nextSibling}while(b=e)}else if(b.nodeType===3)if(!d._isCompileTextTag(b)){d._setCompileTextTag(b);var f=b.nodeValue;h.hasTextTag(f)&&t.NewObject(c.view,c.parentDomnode,b,b.nodeName,f)}},analyzeNode:function(i,g){var C=i.tagName,f=a;f=b.command(C);var q=[],w=[],m=e,k=a,n=d,l=d,j=d;if(f){f=h._makeCommand(f,g.view,i);n=f.replace;l=f.include;k=f.tmpl;j=f.view;m=f.compileChild;q.push({aName:C,aVal:a,type:"node",command:f})}else{var p=i.attributes;if(p&&p.length>0)for(var v=a,o=a,u=a,y=0,H=p.length;y<H;y++){o=p[y];if(o){v=o.nodeValue;u=o.nodeName;f=b.command(u);if(f){f=h._makeCommand(f,g.view,i);n=f.replace;l=f.include;k=f.tmpl;if(n||l)break;j||(j=f.view);!m||(m=f.compileChild);q.push({aName:u,aVal:v,type:"attr",command:f})}else h.hasTextTag(v)&&w.push({node:o,aName:u,aVal:v})}}}if(q.length>0)if(n||l){var x=$(i);if(!b.isNullEmpty(k)){var z=$(["<div>",k,"</div>"].join(c));l&&k.indexOf("bg-include")>=0&&z.find("[bg-include]").each(function(){$(this).append(x.clone())});var G=g.view;z.children().each(function(){$(this).insertBefore(x);j&&(g.view=r.NewObject(this,G));g.node=this;h.traverseNodes(g)})}x.remove();m=d}else{!b.isNullEmpty(k)&&$(i).html(k);j&&(g.view=r.NewObject(i,g.view));var D=g.parentDomnode,s=B.NewObject(g.view,i,j?a:D,g.withData);g.parentDomnode=s;this.setDomnode(i,s);j&&(g.withData=a);var E=a;b.each(q,function(){var a=this;E=A.NewObject(g.view,s,a.type,a.aName,a.aVal,a.command)})}if(!n&&!l&&w.length>0){var F=a;b.each(w,function(){F=t.NewObject(g.view,s,this.node,this.aName,this.aVal)})}return m}},s=b.Class(function(){var c=function(c,a,d,b){h.traverseNodes({node:c,parentDomnode:a,view:d,withData:b})};this.Define({formNode:function(a){return this.formJquery(a)},formHtml:function(a){return this.formJquery(a)},formUrl:function(a){this._url=b.path(a);return this},formId:function(a){return this.formJquery($("#"+a))},formJquery:function(a){this._jo=$(a);return this},withData:function(a){this._withData=a;return this},appendTo:function(a){this._parentNode=$(a)[0];return this},compile:function(i){var d=this;try{var g=d._parentNode,f=g?h.getDomnode(g):a,e=d._view,j=d._withData;if(d._jo){if(!g)if(d._jo.size()>0)f=h.getDomnode(d._jo[0]);else return d;e||(e=f?f.view:q);d._jo.each(function(){c(this,f,e,j)});e._compile();g&&d._jo.appendTo(g);e._controller();e._link();i&&i(d._jo)}else if(g&&d._url){e||(e=f?f.view:q);var k=d._url,l=b.inject("$ajax",e)(k).dataType("text").success(function(b){var a=$(b);a.each(function(){c(this,f,e,j)});e._compile();a.appendTo(g);e._controller();e._link();i&&i(a)}).get()}}finally{d._jo=d._url=d._parentNode=d._view=d._data=a;return d}}});this.Initialization(function(a){this._view=a})});b.factory("$tmpl",[j,function(a){if(a.__tmpl__)return a.__tmpl__;var b=s.NewObject(a);a.__tmpl__=b;b.disposeByOther(a);return b}]);var r=b.Class(b.linkToDom.LinkToDomClass,function(){this.Property({node:a,parentView:a,domnodeList:[],textList:[],children:[],_module:a,_controllerFn:a,_isControllerFn:d});this.Define({_setParent:function(a){if(a){this.parentView=a;a._addChild(this)}},_addDomnode:function(a){this.domnodeList.push(a)},_removeDomnode:function(c){var a=this.domnodeList;a=b.removeArrayItem(c,a);this.domnodeList=a},_addChild:function(a){this.children.push(a)},_removeChild:function(c){var a=this.children;a=b.removeArrayItem(c,a);this.children=a},_getWatch:function(){var a=this;if(a.__watch__)return a.__watch__;var b=_watchClass.NewObject();b.setScope(a);a.__watch__=b;b.disposeByOther(a);return b},_compile:function(){b.each(this.domnodeList,function(){!this.isDisposed&&this._compile()});b.each(this.children,function(){!this.isDisposed&&this._compile()})},_controller:function(){var a=this,c=a._controllerFn;if(c&&a._isControllerFn!=c){a._isControllerFn=c;if(b.isString(c)&&a._module)c=a._module.controller(c);f(c,a);var d=a;setTimeout(function(){d.trigger("ready");d.$update()})}b.each(a.domnodeList,function(){!this.isDisposed&&this._controller()});b.each(a.children,function(){!this.isDisposed&&this._controller()})},_link:function(){b.each(this.domnodeList,function(){!this.isDisposed&&this._link()});b.each(this.textList,function(){!this.isDisposed&&this._link()});b.each(this.children,function(){!this.isDisposed&&this._link()})},setModule:function(a){this._module=b.module(a)(this)},setController:function(a){this._controllerFn=a},$update:function(){return this.$publish()},$publish:function(){this.$observer().publish();return this},$observer:function(){var a=this;return a.__observer__?a.__observer__:(a.__observer__=f("$observer",a))},$subscribe:function(d,a,c,b){this.$observer().subscribe(d,a,c,b)}});this.Initialization(function(d,c){var a=this;a.base();a.linkToDom(d);a.node=d;a.parentView=c;c&&a._setParent(c);a.onDispose(function(){var a=this;b.each(a.textList,function(a){a&&a.dispose()});var c=a.parentView;c&&!c.isDisposed&&c._removeChild(a);a.children=a.domnodeList=a.textList=[]})})}),B=b.Class(b.linkToDom.LinkToDomClass,function(){this.Property({view:a,node:a,parentDomnode:a,attrList:[],textList:[],children:[],__withData__:a,_isCompiled:d,_isLinked:d,_isController:d});this.Define({_addChild:function(a){this.children.push(a)},_removeChild:function(c){var a=this.children;a=b.removeArrayItem(c,a);this.children=a},_sortAttrs:function(){if(this.attrList.length>1)this.attrList=this.attrList.sort(function(a,b){return a.priority==b.priority?0:a.priority>b.priority?-1:1})},_compile:function(){var a=this;if(!a._isCompiled){a._isCompiled=e;b.each(a.attrList,function(){!this.isDisposed&&this._compile()})}b.each(a.children,function(){!this.isDisposed&&this._compile()})},_controller:function(){var a=this;if(!a._isController){a._isController=e;b.each(a.attrList,function(){!this.isDisposed&&this._controller()})}b.each(a.children,function(){!this.isDisposed&&this._controller()})},_link:function(){var a=this;if(!a._isLinked){a._isLinked=e;b.each(a.attrList,function(){!this.isDisposed&&this._link()})}b.each(a.textList,function(){!this.isDisposed&&this._link()});b.each(a.children,function(){!this.isDisposed&&this._link()})},getWithData:function(){return this.__withData__},$getAttr:function(c){c=c.toLowerCase();var e=a;b.each(this.attrList,function(){if(this.attrName==c){e=this;return d}});return e}});this.Initialization(function(f,e,c,d){var a=this;a.base();a.linkToDom(e);a.__withData__=d;if(c){a.parentDomnode=c;d||(a.__withData__=c.__withData__);c._addChild(a)}a.view=f;c||f._addDomnode(a);a.node=e;a.onDispose(function(){var a=this;b.each(a.attrList,function(a){a&&a.dispose()});b.each(a.textList,function(a){a&&a.dispose()});var c=a.parentDomnode;if(c)!c.isDisposed&&c._removeChild(a);else var d=a.view(!d.isDisposed)&&d._removeDomnode(a);a.attrList=a.children=a.textList=[]})})}),A=b.Class(function(){this.Property({view:a,domnode:a,command:a,attrName:c,attrValue:c,type:c,_filter:a});var e={evalScriptContextFun:function(a){return e.getScriptContextFun(a,d,"__contextFun_eval")},getScriptContextFun:function(e,f,a){a||(a=k);if(e[a])return e[a];f=f!==d;var g=e.$getValue();try{var o=e.getWithData(),h=!o?[f?i:c,g,";"].join(c):["with($withData){ ",f?i:c,g,"; }"].join(c);return e[a]=new Function(j,"$node",l,"event",m+h+n)}catch(p){b.isDebug&&console.error(p.message);return e[a]=function(){return g}}}};this.Define({_compile:function(){var a=this,c=a.command,b=c.compile;b&&f(b,a.view,a.domnode,a)},_controller:function(){var a=this,c=a.command,b=c.controller;b&&f(b,a.view,a.domnode,a)},_link:function(){var a=this,c=a.command,b=c.link;b&&f(b,a.view,a.domnode,a)},_makeCommand:function(b){var a=b;a.compile=g(a.compile);a.controller=g(a.controller);a.link=g(a.link);this.command=b},getWithData:function(){return this.domnode.getWithData()},$getValue:function(){return this.attrValue},$setValue:function(a){this.attrValue=a},$eval:function(b,c){var a=this;return e.evalScriptContextFun(a)(c||a.view,a.domnode.node,a.getWithData(),b)},$getContext:function(b,c){var a=this;return e.getScriptContextFun(a)(c||a.view,a.domnode.node,a.getWithData(),b)},$datavalue:function(f){var d=this,g=d.attrValue,e=g,a=d.getWithData(),c;if(a)c=b.datavalue(a,e);if(b.isUndefined(c)){a=d.view;c=b.datavalue(a,e)}if(b.isUndefined(c)){a=window;c=b.datavalue(a,e)}if(arguments.length>0){if(b.isUndefined(c))b.datavalue(d.getWithData()||d.view,e,f);else b.datavalue(a,e,f);return d}else return c},$filter:function(a){return this._filter.filter(a)}});this.Initialization(function(c,b,i,e,d,h){var a=this;a.domnode=b;b.attrList.push(a);a.view=c;a.type=i;a.attrName=e.toLowerCase();var g=f("$filter",c,b,a);a._filter=g(d,a.getWithData());a.attrValue=a._filter.context;a._makeCommand(h)})}),t=b.Class(function(){this.Property({view:a,domnode:a,node:a,attrName:c,attrValue:c,_isLinked:d});var g={getScriptContextFun:function(a,d){var e=[k,d].join("_");if(a[e])return a[e];try{var g=a.getWithData(),f=!g?[i,d,";"].join(c):["with($withData){ return ",d,"; }"].join(c);return a[e]=new Function(j,"$node",l,m+f+n)}catch(h){b.isDebug&&console.error(h.message);return a[e]=function(){return d}}}};this.Define({_link:function(){var i=this;if(!i._isLinked){i._isLinked=e;var j=i.attrValue,k=[],g=i,l=i.node.nodeValue=j.replace(h._textTagRegex,function(i,d){var e={},b=f("$filter",g.view,g.domnode,a,g.node);b=b(d,g.getWithData());d=b.context;e.text=i,e.tag=d,e.flt=b;k.push(e);var h=g.$getContext(d);return h?b.filter(h):c});b.each(k,function(a){var f=a.tag,e=a.text,b=this.flt;g.view.$subscribe(function(){return g.$getContext(f)},function(a){var d=a?b.filter(a):c;g.node.nodeValue=j.replace(e,d)},d,g.domnode)})}},getWithData:function(){return this.domnode?this.domnode.getWithData():a},$getContext:function(c,b){var a=this;return g.getScriptContextFun(a,c)(b||a.view,a.node,a.getWithData())}});this.Initialization(function(c,b,f,e,d){var a=this;a.view=c;a.domnode=b;a.node=f;if(b)b.textList.push(a);else c.textList.push(a);a.attrName=e.toLowerCase();a.attrValue=d;a.onDispose(function(){h._removeCompileTextTag(this.node)})})});$(function(){b.start()})})(bingo);(function(a){"use strict";a.route=function(a){if(this.isString(a))return b.getRoute(a);else a&&b.add(a)};var b={datas:[],defaultRoute:null,add:function(a){if(a.isDefault===true)this.defaultRoute=a;else this.datas.push(a)},getRoute:function(c){var b=null;a.each(this.datas,function(){this.regx.lastIndex=0;if(this.regx.test(c)){b=this;return false}});b||(b=this.defaultRoute);b&&a.isFunction(b.fn)&&b.fn(c);return b}};a.route({regx:/.+/i,tmplId:"",tmplUrl:"",script:"",module:"",controller:"",isDefault:true,fn:function(d){var b=this;if(a.isNullEmpty(d))return;var c=d.split("/");b.controller=c.pop();b.module=c.pop();var e=c.join("/");b.tmplUrl=[e,"view",b.module,b.controller+".html"].join("/");b.tmplUrl=a.getRelativeFile(b.tmplUrl);b.script=[e,"controller",b.module+".js"].join("/");b.script=a.getRelativeFile(b.script)}})})(bingo);bingo.factory("$node",["node",function(a){return $(a)}]);(function(a){"use strict";var b=a.Class(function(){var c=this,d=function(a){a._view&&a._view.$update();setTimeout(function(){a.dispose()},10)},b={},e=function(c,i){var f=c._view;if(c.isDisposed&&f.isDisposed)return;var h=a.clone(c.param()||{}),e=null,g=c.cache();if(g){e=c._url.toLowerCase();if(e in b){if(c.async())setTimeout(function(){c.isDisposed||f.isDisposed||_dtd.resolveWith(c,[b[e]])});else _dtd.resolveWith(c,[b[e]]);return}}$.ajax({type:i,url:c._url,data:h,async:c.async(),cache:false,dataType:c.dataType(),success:function(a){if(g)b[e]=a;if(c.isDisposed&&f.isDisposed)return;try{var h=c.getDTD();h.resolveWith(c,[a])}finally{d(c)}},error:function(g,b,a){if(c.isDisposed&&f.isDisposed)return;try{var e=c.getDTD();e.rejectWith(c,[g,b,a])}finally{d(c)}}})};c.Property({_url:"",_view:null});c.Variable({async:true,dataType:"json",param:{},cache:false});c.Define({getDTD:function(){this._dtd||(this._dtd=$.Deferred());return this._dtd},success:function(a){this.getDTD().done(a);return this},error:function(a){this.getDTD().fail(a);return this},alway:function(a){this.getDTD().always(a);return this},post:function(){e(this,"post");return this},"get":function(){e(this,"get");return this}});c.Initialization(function(c,b){this._url=a.path(c);this._view=b||{isDisposed:false}})});a.factory("$ajax",["$view",function(a){return function(c){return b.NewObject(c,a)}}])})(bingo);(function(b){var a=null;"use strict";var c={_filterRegex:/[|]+[ ]?([^|]+)/g,hasFilter:function(a){this._filterRegex.lastIndex=0;return this._filterRegex.test(a)},removerFilterString:function(a){if(b.isNullEmpty(a)||!this.hasFilter(a))return a;this._filterRegex.lastIndex=0;var c=a.replace(this._filterRegex,function(a){return a.indexOf("||")==0?a:""});return b.trim(c)},getFilterStringList:function(a){if(b.isNullEmpty(a)||!this.hasFilter(a))return[];var c=[];this._filterRegex.lastIndex=0;a.replace(this._filterRegex,function(b,a){b.indexOf("||")!=0&&c.push(a)});return c},getContextObjectFun:function(d,f){var c=a,b=["{",d,"}"].join(""),e=!f?["return ",b,";"].join(""):["with($withData){ return ",b,"; }"].join("");c=new Function("$view","$val","$withData"," return (function(){ try{ with($view){"+e+" }}catch(e){if (bingo.isDebug) console.error(e.message);return window.undefined;}}).call($val)");return c},hasFilterParam:function(a){return a.indexOf(":")>=0},getFilterParamName:function(c){var a=c.split(":");return b.trim(a[0])},getFilterByView:function(e,d){var c=a;return c||b.filter(d)},getFilterObjList:function(d,e,h,i){var f=this.getFilterStringList(i);if(f.length==0)return[];var g=[];b.each(f,function(j){j=b.trim(j);if(b.isNullEmpty(j))return;var i={name:a,paramFn:a,fitlerFn:a},f=a;if(c.hasFilterParam(j)){i.name=c.getFilterParamName(j);f=c.getFilterByView(d,i.name);if(!f)return;f=b.inject(f,d,e);i.paramFn=c.getContextObjectFun(j,h)}else{i.name=j;f=c.getFilterByView(d,i.name);if(!f)return;f=b.inject(f,d,e)}i.fitlerFn=f;i.fitler=function(e,g,f){var c=this;if(!c.fitlerFn)return e;var d=a;if(c.paramFn){d=c.paramFn(g,b.isUndefined(e)?a:e,f);d&&(d=d[c.name])}return c.fitlerFn(e,d)};g.push(i)});return g},createFilterObject:function(d,g,h,e){var a={},f=c.hasFilter(e);a._filters=f?c.getFilterObjList(d,g,h,e):[];if(a._filters.length>0)a.filter=function(e,c){var a=e;b.each(this._filters,function(){a=this.fitler(a,d,c)});return a};else a.filter=function(a){return a};return a}};b.factory("$filter",["$view","$domnode",function(f,d){var b=d&&d.getWithData(),e=a,g=function(g,a){a&&(b=a);e=c.createFilterObject(f,d,b,g);return{context:c.removerFilterString(g),filter:function(c,a){return e.filter(c,a||b)}}};return g}]);b.filter("eq",function(){return function(a,b){return a==b}});b.filter("neq",function(){return function(a,b){return a!=b}});b.filter("not",function(){return function(a){return!a}});b.filter("gt",function(){return function(a,b){return a>b}});b.filter("lt",function(){return function(a,b){return a<b}});b.filter("text",function(){return function(){return b.html()}});b.filter("sw",function(){return function(b,a){return b==a[0]?a[1]:a[2]}})})(bingo);(function(a){var b="$observer";"use strict";var c=a.Class(function(){var b=function(h,d,i,f,c){var j=a.isFunction(d),g=function(){var b;if(j){if(c&&c.isDisposed){setTimeout(function(){e.dispose()});return}b=d.call(e)}else{var f=h._view;b=a.datavalue(f,d);if(a.isUndefined(b))b=a.datavalue(f,d)}return b},b=g();if(f)b=a.clone(b);var e={check:function(){if(c&&c.isDisposed){setTimeout(function(){e.dispose()});return}var d=g();if(f?!a.equals(d,b):d!=b){b=f?a.clone(d):d;i.call(this,d);return true}return false},dispose:function(){h._remove(this);this.check=this.dispose=a.noop}};return e};this.Property({_timeId:null,_view:a.rootView(),_isPause:false,_subscribes:[]});this.Define({subscribe:function(e,c,f,d){var a=b(this,e,c,f,d);this._subscribes.push(a);return a},publish:function(){var a=this;a._timeId&&clearTimeout(a._timeId);var b=a;a._timeId=setTimeout(function(){b._timeId=null;b._publish&&b._publish()},50)},_publish:function(){var b=false;a.each(this._subscribes,function(){if(this.check())b=true});if(b){var c=this;setTimeout(function(){c.isDisposed||c.publish()})}},_remove:function(b){this._subscribes=a.removeArrayItem(b,this._subscribes)}});this.Initialization(function(a){this.view=a;this.disposeByOther(a)})});a.factory(b,["$view",function(a){return a.__observer__||(a.__observer__=c.NewObject(a))}]);a.factory("$subscribe",[b,"$attr",function(a,b){return function(e,c,d){return a.subscribe(e,c,d,b)}}])})(bingo);(function(c){var a=null,b=true;"use strict";var e=/\$\{\s*(\/?)(if)*([^}]*)\}/g,d=function(h,l,j,k,i,f){var d={isIf:l===b,isEnd:j===b,isTag:k===b,context:h,filterContext:a,fn:c.noop,flt:a,children:[]};if(d.isTag)if(!d.isEnd){if(!d.isIf){d.filterContext=h;var e=c.inject("$filter",i,f);e=e(h,f&&f.getWithData());d.context=e.context;d.flt=e}d.fn=g(d.context)}return d},g=function(a){if(c.isNullEmpty(a))return c.noop;var b=a;try{return new Function("$view, $data",["try {","with ($view) {","with ($data) {","return "+a+";","}","}","} catch (e) {",'return bingo.isDebug ? ("Error: " + (e.message || e)) : e.message;',"} finally {","$data = null;","}"].join(""))}catch(e){if(c.isDebug){var d=["Error:",e.message||e," render:",b].join("");throw new Error(d);}else return function(){return e.message}}},h=function(h,j,i){var f=[],g=0,c=[];h.replace(e,function(p,r,s,t,n,q){var m=d(q.slice(g,n)),o=r=="/",k=s=="if",l=d(t,k,o,b,j,i),h=c.length,e=a;if(o){if(h>0){e=c.pop().children;h--}else e=f;e.push(m);!k&&e.push(l)}else{var e=h>0?c[h-1].children:f;e.push(m);e.push(l);k&&c.push(l)}g=n+p.length});g<h.length&&f.push(d(h.slice(g)));return f},f=function(e,d,a){var b=[];c.each(e,function(c){if(!c.isTag)b.push(c.context);else if(!c.isEnd)if(c.isIf){if(!c.fn(d,a))return false;var e=f(c.children,d,a);b.push(e)}else{var g=c.flt.filter(c.fn(d,a),a);b.push(g)}});return b.join("")},i=function(e,h,g,b,c,d){var a={$index:c,$count:d};a[[b,"index"].join("_")]=c;a[[b,"count"].join("_")]=d;a[b]=g;return f(e,h,a)};c.factory("$render",["$view","$domnode",function(b,c){return function(d){e.lastIndex=0;var f=e.test(d)?h(d,b,c):a;return{render:function(g,c,a,e){return!f?d:i(f,b,g,c,a,e)}}}}])})(bingo);bingo.factory("$timeout",["$view",function(a){return function(b,c){return setTimeout(function(){if(!a.isDisposed){b&&b();a.$update()}},c)}}]);bingo.location=function(c){var b=$(c),a="bg-frame";return{href:function(d,b){if(arguments.length==0)return this.toString();else{var c=bingo.isNullEmpty(b)?this.frame():$("["+a+"]["+a+'-name="'+b+'"]');c.size()>0&&c.attr(a,d).trigger(a+"-change",[d])}},change:function(c){c&&b.on(a+"-change",function(b,a){c(a)})},frame:function(){return b.closest("["+a+"]")},toString:function(){var b=this.frame();return b.size()>0?b.attr(a):window.location+""}}};bingo.factory("$location",["node",function(a){return bingo.location(a)}]);bingo.command("bg-controller",function(){return{priority:1e3,tmpl:"",tmplUrl:"",replace:false,include:false,view:true,compileChild:false,compilePre:null,controller:null,link:null,compile:["$view","$tmpl","$node","$attr",function(h,g,f,e){var b=e.$getContext();if(bingo.isFunction(b)){this.controller=b;g.formNode(f).compile()}else{b=e.$getValue();var a=bingo.route(b);if(a){var c=function(){var c=a.module,b=a.controller;h.setModule(c);h.setController(b);g.formNode(f).compile()},d=a.script;if(bingo.isNullEmpty(d))c();else bingo.using(d,c)}}}]}});bingo.each("click,blur,dblclick,focus,focusin,focusout,keydown,keypress,keyup,mousedown,mouseenter,mouseleave,mousemove,mouseout,mouseover,mouseup,resize,scroll,select,submit".split(","),function(a){bingo.command("bg-"+a,function(){return["$view","$node","$attr",function(e,d,c){var b=c.$datavalue();if(!bingo.isFunction(b))b=function(a){c.$eval(a)};d.on(a,function(){b.apply(this,arguments);e.$update()})}]})});(function(a){"use strict";a.command("bg-foreach",function(){return{priority:100,tmpl:"",tmplUrl:"",compileChild:false,link:["$view","$tmpl","$node","$attr","$render","$subscribe",function(w,j,r,i,c,u){var b=null,s=i.$getValue();if(a.isNullEmpty(s))return;var g="",o="";s.replace(/[ ]*([^ ]+)[ ]+in[ ]+([^ ]+)/g,function(){g=arguments[1];o=arguments[2]});if(a.isNullEmpty(g)||a.isNullEmpty(o))return;i.$setValue(o);var v=b,m=b,l=b,n=b,f=b,e=b,k=b,t=function(){var b=r,a=b.children();if(a.size()>0)if(a.size()===1&&a.first().is("script"))f=e=c(a.first().html());else{var d=b.children("[tmpl-role]");if(d.size()>0)d.each(function(){var a=$(this),b=a.attr("tmpl-role");switch(b){case"body":f=e=c(a.html());break;case"odd":f=c(a.html());break;case"even":e=c(a.html());break;case"empty":n=c(a.html());break;case"loading":k=c(a.html());break;case"header":m=c(a.html());break;case"footer":l=c(a.html())}});else f=e=c(b.html())}},d=function(a,d,c,b){return a.render(d,g,c,b)},p=function(h){var i=r,c="";i.html("");if(k&&!h){c=d(k,{},-1,0);!a.isNullEmpty(c)&&j.formHtml(c).appendTo(i).compile();return}if(!a.isArray(h))h=h?[h]:[];if(h.length==0){if(n){c=d(n,{},-1,0);!a.isNullEmpty(c)&&j.formHtml(c).appendTo(i).compile()}}else{var o=h.length;if(m){c=d(m,{},-1,0);j.formHtml(c).appendTo(i).compile()}f&&e&&a.each(h,function(k,b){if(b%2==0)c=d(f,k,b,o);else c=d(e,k,b,o);if(!a.isNullEmpty(c)){var h={$index:b,$count:o};h[[g,"index"].join("_")]=b;h[[g,"count"].join("_")]=o;h[g]=k;j.formHtml(c).withData(h).appendTo(i).compile()}});if(l){c=d(l,{},-1,0);!a.isNullEmpty(c)&&j.formHtml(c).appendTo(i).compile()}}h=b};t();var h=i.$datavalue(),q=h?h.length:-1;p(i.$filter(h));u(function(){var a=i.$datavalue(),b=a?a.length:-1;if(a!=h||q!=b){h=a;q=b;return true}else return false},function(){p(i.$filter(h))})}]}})})(bingo);bingo.command("bg-frame",function(){return{priority:1e3,replace:false,view:true,compileChild:false,compile:["$tmpl","$node","$attr","$location",function(e,a,d,c){var f=d.$getValue(),b=function(d){a.html("");var c=bingo.route(d);if(c){var b=c.tmplUrl;!bingo.isNullEmpty(b)&&e.formUrl(b).appendTo(a).compile()}};b(f);c.change(function(a){b(a)})}]}});$(function(){$(document.documentElement).on("click","[href]",function(){if(!bingo.location)return;var b=$(this),a=b.attr("href");if(a.indexOf("#")>=0){var c=bingo.location(this),d=b.attr("bg-target");a=a.split("#");a=a[a.length-1];c.href(a,d)}})});bingo.command("bg-html",function(){return["$attr","$node","$subscribe",function(a,b,c){c(function(){return a.$getContext()},function(c){b.html(a.$filter(c))});b.html(a.$filter(a.$getContext()))}]});bingo.command("bg-if",function(){return{view:false,compileChild:false,compilePre:["$attr","$node","$subscribe","$tmpl",function(c,a,d,e){var b=$(a),f=b.html();b.html("");b=null;d(function(){return c.$getContext()},function(b){if(c.$filter(b))e.formHtml(f).appendTo(a).compile();else $(a).html("")})}]}});bingo.command("bg-model",function(){return["$view","$node","$attr","$subscribe",function(j,c,d,l){var a="checked",b="checkbox_value_02",i=c.is(":radio"),e=c.is(":checkbox");e&&c.data(b,c.val());var k=function(a){return bingo.isNullEmpty(a)?"":a},f=function(){var d=c;return e?d.prop(a)?d.data(b):pxj.stringEmpty:d.val()},g=function(d){var f=c;d=k(d);if(h==d)return;h=d;if(e){f.data(b,d);f.prop(a,f.val()==d)}else if(i)f.prop(a,f.val()==d);else f.val(d)},h=null;g(d.$datavalue());if(i)c.click(function(){var a=f();d.$datavalue(a);j.$update()});else c.on("change",function(){var a=f();d.$datavalue(a);j.$update()});l(function(){return d.$datavalue()},function(a){g(a)})}]});bingo.command("bg-node",function(){return["$attr","$node",function(a,b){a.$datavalue(b[0])}]});bingo.command("bg-text",function(){return["$attr","$node","$subscribe",function(a,b,c){c(function(){return a.$getContext()},function(c){b.text(a.$filter(c))});b.text(a.$filter(a.$getContext()))}]})